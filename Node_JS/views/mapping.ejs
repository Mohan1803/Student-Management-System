<% if(locals.success.length>0) { %>
    <div class="w-75 p-3 container d-flex align-items-center justify-content-center alert alert-success alert-dismissible fade show"
        role="alert">
        <%= success %>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <% } %>

  <% if(locals.error.length>0) { %>
    <div
      class=" w-75 p-3 container d-flex align-items-center justify-content-center alert alert-danger alert-dismissible fade show"
      role="alert">
      <%= error %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <% } %>


    
   

 
    <div class="container-fluid">
        <div class="row mt-5">
        <div class="col-lg-4 col-xl-4 col-sm-12">

<div class="sticky-top bg-light pt-5">

<!-- Form Code -->
<form name="myForm" action="/staff/mapping-staff-subject-class" method="POST">

<h2 class="text-center" style="font-family: 'Times New Roman', Times, serif;">Map Subject And Class To Staff</h2>








  <div class="mb-3">
    <div class="form-floating w-75 p-2">
      <select class="form-select" aria-label="Default select example" id="staff_id_map" name="staff_id_map">
        <% if (locals.result[3]) { %>
          <% for ( let i=0; i < locals.result[3].length; i++){ %>
              <option value="<%= locals.result[3][i].ID %>"><%= locals.result[3][i].Staff_id %> %></option>
          
     <% } }  %>
      </select>
      <label for="staff_id_map">Staff ID</label>
    </div>
  </div>

  <div class="mb-3">
    <div class="form-floating w-75 p-2">
      <select class="form-select" aria-label="Default select example" id="class_map" name="class_map">
        <% if (locals.result[0]) { %>
          <% for ( let i=0; i < locals.result[0].length; i++){ %>
              <option value="<%= locals.result[0][i].ID %>"><%= locals.result[0][i].Class %> %></option>
          
     <% } }  %>
      </select>
      <label for="class_map">Class</label>
    </div>
  </div>

  <div class="mb-3">
    <div class="form-floating w-75 p-2">
      <select class="form-select" aria-label="Default select example" id="subject_map" name="subject_map">
        <% if (locals.result[1]) { %>
          <% for ( let i=0; i < locals.result[1].length; i++){ %>
              <option value="<%= locals.result[1][i].ID %>"><%= locals.result[1][i].subject_name %></option>
          
     <% } }  %>
      </select>
      <label for="subject_map">Subject</label>
    </div>
  </div>
<center>
<input type="submit" class="btn btn-primary align-center" value="submit" />

<a href="/staff/staffinfo" class="btn btn-outline-primary btn-sm" role="button">Back To Your Profile</a>

</center>
</div>
</div>

<div class="col-xl-8 col-lg-8 col-sm-12 overflow-auto border">

    <!-- Table Code  -->
    <table class="table table-light text-center">
      <thead>
        <tr>
        <th scope="col">S.No</th>
        <th scope="col">Staff ID</th>
        <th scope="col">Staff Name</th>
        <th scope="col">Class</th>
        <th scope="col">Subject</th>
      </tr>
      </thead>
      <tbody>
          <% if(result[2]) {        
              for(var i = 0; i < result[2].length; i++) { %>
                <tr>
                  <th scope="row"><%= (i+1) %>.</th>
                  <td><%= result[2][i].Staff_id %></td>
                  <td><%= result[2][i].Middle_Name %></td>
                  <td><%= result[2][i].Class %></td>
                  <td><%= result[2][i].subject_name %></td>
                </tr>
          <%  }  
        } else { %>
            <tr>
              <td colspan="12" class="text-center">No Records.</td>
             </tr>
      <% } %>
             </tbody>
        </table>
     </div>
    
    </div>
</div>
